
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google Analytics js-->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-101872700-1', 'auto');
    ga('send', 'pageview');
  </script>

  <!-- code highlight js / css-->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- BootStrap js / css-->
    <link href="/bootstrap-3.3.2/css/bootstrap.css" rel="stylesheet">
    <!-- jQuery (부트스트랩의 자바스크립트 플러그인을 위해 필요합니다) -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
     <!-- 모든 컴파일된 플러그인을 포함합니다 (아래), 원하지 않는다면 필요한 각각의 파일을 포함하세요 -->
     <script src="/bootstrap-3.3.2/js/bootstrap.js"></script>

    <!-- JUPYTER NOTEBOOK js / css-->

     <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

     <link href="/jupyterstyle/jupyterstyle.css" rel="stylesheet">


  <!-- Semantic UI js / css-->
    <link rel="stylesheet" type="text/css" href="/semantic/semantic.css">
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"></script>
    <script src="/semantic/semantic.js"></script>




    <title>Scala 의 Type Class 코드로 살펴보기 1</title>

  </head>
  <body>

    <div class = "ui container">
<!---
      <div class="ui visible left vertical inverted sidebar labeled icon menu">
        <div class="item">
          shinjayne
        </div>
        <h5> <a class="item" href = "http://localhost:4000">Home</a> </h5>
        <h5> <a class="item" href = "http://localhost:4000/category">Categories</a> </h5>
        <h5> <a class="item" href = "http://localhost:4000/about">About</a> </h5>
      </div>
-->
      <div class="ui stackable grid">
        <div class="two wide column">

        </div>

        <div class="twelve wide column">

            <div class="ui center aligned inverted segment" >

              <h1  class="ui inverted header" ></h1>
              <h1  class="ui inverted header" >shinjayne</h1>
              <h1  class="ui inverted header" ></h1>

              <div class="right item">
                <a class="ui inverted button" href = "http://localhost:4000">Home</a>
                <a class="ui inverted button" href = "http://localhost:4000/category">Categories</a>
                <a class="ui inverted button" href = "http://localhost:4000/about">About</a>
              </div>
            </div>
        </div>

        <div class="two wide column">

        </div>

        <div class="two wide column">

</div>

<div class="twelve wide column">
  <div class = "ui segment">
    <h1>Scala 의 Type Class 코드로 살펴보기 1</h1>

    <li>
      작성일 : 29 June 2017
    </li>
    <li>
      카테고리 : <a href = "http://localhost:4000/category">Scala</a>
    </li>
  </div>

  <div class = "ui segment">
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>이번 글에서는 <strong>scala 의 Type class</strong> 에 대해서 코드와 함께 알아보도록 하겠습니다.</p>
<p><strong>Type class</strong> 를 이용하면</p>
<p>기존의 object oriented programming 에서 사용하던</p>
<p><strong>상속이나 객체, 클래스의 개념 없이도</strong> 다양한 기능을 구현할 수 있습니다.</p>
<p>(개인적인 소감으로는, Object Oriented Programming 의 소중함을 느끼게 해주는 공부였습니다...)</p>
<p><br/>
<br/>
<br/></p>
<h1 id="1.-Type-Class-&#51032;-&#44396;&#49457;">1. Type Class &#51032; &#44396;&#49457;<a class="anchor-link" href="#1.-Type-Class-&#51032;-&#44396;&#49457;">&#182;</a></h1><p><br/>
<br/>
<br/></p>
<ol>
<li><p>type class 본체</p>
</li>
<li><p>type class 의 instance (customizing)</p>
</li>
<li><p>type class 의 interface (함수 사용)</p>
</li>
</ol>
<p>Type class 는 크게 위와같은  3가지 구성으로 이루어져 있습니다 .</p>
<hr/>

<p><strong>Type class 본체</strong>는 <code>abstract class</code> 또는 <code>trait</code>로 만듭니다.</p>
<p>자세한 메서드의 구현은 생략하고, 공통된 동작만 기술되어 있습니다.</p>
<hr/>

<p><strong>Type class 의 instance</strong> 는 Type class 의 본체에 특정 Type 을 대입하여 구체화시켰다고 생각할 수 있습니다.</p>
<p>Type class 의 인터페이스(interface) 에 특정 Type 이 들어왔을 때 어떤 동작을 할 것인지 구체적으로 Type Class 의 인스턴스로 표현 할 수 있습니다.</p>
<p><code>implicit def</code>, 또는 <code>implicit val</code> 로 많이 표현합니다. 자세한 예는 아래서 다루도록 하겠습니다.</p>
<hr/>

<p><strong>Type Class 의 interface</strong>는 두 가지 파라메터(인자)를 받습니다.</p>
<p>하나는 실제 함수에서 다룰 데이터이고, 하나는 데이터를 처리하는 동작이 기술되어있는 Type class 의 instance 입니다.</p>
<p><br/>
<br/>
<br/></p>
<h1 id="2.-Type-Class-&#44060;&#50836;">2. Type Class &#44060;&#50836;<a class="anchor-link" href="#2.-Type-Class-&#44060;&#50836;">&#182;</a></h1><p><br/>
<br/>
<br/></p>
<p>기본적으로 type class 는 type 을 parameter로 받는 class 입니다.</p>
<p>이제 이 아래부터는 실제 스칼라 코드를 통해서 여러가지 Type Class 와 그의 인스턴스, 인터페이스들을 구현해보도록 하겠습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/>
<br/>
<br/></p>
<h1 id="3.-&#54616;&#45208;&#51032;-type-parameter-&#47484;-&#48155;&#45716;-Type-class">3. &#54616;&#45208;&#51032; type parameter &#47484; &#48155;&#45716; Type class<a class="anchor-link" href="#3.-&#54616;&#45208;&#51032;-type-parameter-&#47484;-&#48155;&#45716;-Type-class">&#182;</a></h1><p><br/>
<br/>
<br/></p>
<h3 id="part1-:-type-class-&#51032;-&#48376;&#52404;">part1 : type class &#51032; &#48376;&#52404;<a class="anchor-link" href="#part1-:-type-class-&#51032;-&#48376;&#52404;">&#182;</a></h3><p><hr/>
Ord[A] 는 type A 의 무언가를 크기비교하는 기능을 가진 type class 입니다.</p>
<p>Type Class 는 간단히 <code>abstract class</code> 또는 <code>traits</code>를 통해 구현합니다.</p>
<p>메서드는 정의하지만 정확한 동작은 인스턴스에서 구현합니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">abstract</span> <span class="k">class</span> <span class="nc">Ord</span><span class="o">[</span><span class="kt">A</span><span class="o">]{</span>
  <span class="k">def</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Int</span>  <span class="c1">// instnace 에서 구현될 것입니다. </span>
  
  <span class="c1">//A의 type 과 관계 없는 공통된 메서드들은 미리 작성해놓기도 합니다.   </span>
  <span class="k">def</span> <span class="o">===(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span><span class="o">,</span> <span class="n">you</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="o">&lt;(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span><span class="o">,</span> <span class="n">you</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="o">&gt;(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span><span class="o">,</span> <span class="n">you</span><span class="o">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="o">&lt;=(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span><span class="o">,</span> <span class="n">you</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="mi">0</span>
  <span class="k">def</span> <span class="o">&gt;=(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span><span class="o">,</span> <span class="n">you</span><span class="o">)</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[1]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Ord</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="part2-:-type-class-&#51032;-instance-(customize)">part2 : type class &#51032; instance (customize)<a class="anchor-link" href="#part2-:-type-class-&#51032;-instance-(customize)">&#182;</a></h3><p><hr/>
Ord[A] 의 type parameter A 에 다양한 type 을 집어넣음으로써 각각의 instance 를 구현합니다.</p>
<p>type parameter 의 instance 는 
<code>implicit val</code> 또는 <code>implicit def</code> 를 통해 구현합니다.</p>
<p><strong>(<code>implicit def</code>는 보통 생성할 instance에 parameter type 을 한번 더 주고 싶을 때 사용합니다. )</strong></p>
<p>잘 감이 안오신다면, 밑에 코드에서 한번 더 언급될 것입니다. 그때 다시 설명하겠습니다.</p>
<h4 id="1.-Ord[Int]-&#51064;&#49828;&#53556;&#49828;">1. Ord[Int] &#51064;&#49828;&#53556;&#49828;<a class="anchor-link" href="#1.-Ord[Int]-&#51064;&#49828;&#53556;&#49828;">&#182;</a></h4><p>Int 라는 타입을 다룰 수 있는 Type class 의 인스턴스입니다.</p>
<p>이 인스턴스를 인자로 받는 interface는 Int 타입의 데이터를 조작할 수 있습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[0]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">// A = Int</span>
<span class="k">implicit</span> <span class="k">val</span> <span class="n">intOrd</span> <span class="k">:</span> <span class="kt">Ord</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Ord</span><span class="o">[</span><span class="kt">Int</span><span class="o">]{</span>  <span class="c1">//Ord[A] 의 A 에 Int를 대입하고 new Ord[Int] 로 초기화</span>
  <span class="k">def</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">Int</span> <span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Int</span>  <span class="o">=</span> <span class="n">me</span> <span class="o">-</span> <span class="n">you</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>cmd0.sc:1: not found: type Ord
implicit val intOrd : Ord[Int] = new Ord[Int]{  //Ord[A] 의 A 에 Int를 대입하고 new Ord[Int] 로 초기화
                      ^cmd0.sc:1: not found: type Ord
implicit val intOrd : Ord[Int] = new Ord[Int]{  //Ord[A] 의 A 에 Int를 대입하고 new Ord[Int] 로 초기화
                                     ^</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
Compilation Failed</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="2.-Ord[Double]-&#51064;&#49828;&#53556;&#49828;">2. Ord[Double] &#51064;&#49828;&#53556;&#49828;<a class="anchor-link" href="#2.-Ord[Double]-&#51064;&#49828;&#53556;&#49828;">&#182;</a></h4><p>마찬가지고 Double 이라는 타입을 다룰 수 있는 Type class 의 인스턴스입니다.</p>
<p>이 인스턴스를 인자로 받는 interface는 Double 타입의 데이터를 조작할 수 있습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">// A = Double</span>
<span class="k">implicit</span> <span class="k">val</span> <span class="n">doubleOrd</span> <span class="k">:</span> <span class="kt">Ord</span><span class="o">[</span><span class="kt">Double</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Ord</span><span class="o">[</span><span class="kt">Double</span><span class="o">]{</span>
  <span class="k">def</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span> <span class="k">:</span> <span class="kt">Double</span><span class="o">,</span> <span class="n">you</span> <span class="k">:</span> <span class="kt">Double</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">(</span><span class="n">me</span> <span class="o">-</span> <span class="n">you</span><span class="o">).</span><span class="n">toInt</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">doubleOrd</span>: <span class="ansi-green-fg">Ord</span>[<span class="ansi-green-fg">Double</span>] = $sess.cmd2Wrapper$Helper$$anon$1@3368bc6f</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="3.-Ord[-(X,Y)-]-&#51064;&#49828;&#53556;&#49828;">3. Ord[ (X,Y) ] &#51064;&#49828;&#53556;&#49828;<a class="anchor-link" href="#3.-Ord[-(X,Y)-]-&#51064;&#49828;&#53556;&#49828;">&#182;</a></h4><p>여기에선 특별하게 implicit instance 안에 인자로 다시한번 implicit parameter를 받았습니다.</p>
<p>(X,Y) 형식의 type 을 다룰 수 있도록 해주는 Type class 의 인스턴스이고,</p>
<p>이 인스턴스를 받는 interface는 모두 (X,Y) 형식의 type 의 데이터를 다룰 수 있습니다.</p>
<p><strong>type class interface + instance</strong> 의 혼종이라고 생각하면 좋겠습니다.
(아래 interface 부분을 보시고 다시 보시는게 이해에 도움 됩니다. 조금 어렵습니다.)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">// A = (X,Y)</span>
<span class="k">implicit</span> <span class="k">def</span> <span class="n">twoOrd</span><span class="o">[</span><span class="kt">X</span>,<span class="kt">Y</span><span class="o">](</span><span class="k">implicit</span> <span class="n">ordX</span> <span class="k">:</span> <span class="kt">Ord</span><span class="o">[</span><span class="kt">X</span><span class="o">],</span> <span class="n">ordY</span> <span class="k">:</span> <span class="kt">Ord</span><span class="o">[</span><span class="kt">Y</span><span class="o">])</span>  <span class="k">:</span> <span class="kt">Ord</span><span class="o">[(</span><span class="kt">X</span>,<span class="kt">Y</span><span class="o">)]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Ord</span><span class="o">[(</span><span class="kt">X</span>,<span class="kt">Y</span><span class="o">)]{</span>
  <span class="k">def</span> <span class="n">cmp</span><span class="o">(</span><span class="n">me</span> <span class="k">:</span> <span class="o">(</span><span class="kt">X</span><span class="o">,</span><span class="kt">Y</span><span class="o">),</span> <span class="n">you</span> <span class="k">:</span> <span class="o">(</span><span class="kt">X</span><span class="o">,</span><span class="kt">Y</span><span class="o">))</span> <span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">c1</span> <span class="k">=</span> <span class="n">ordX</span><span class="o">.</span><span class="n">cmp</span><span class="o">(</span><span class="n">me</span><span class="o">.</span><span class="n">_1</span><span class="o">,</span> <span class="n">you</span><span class="o">.</span><span class="n">_1</span><span class="o">)</span>
    <span class="k">if</span><span class="o">(</span><span class="n">c1</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="n">c1</span>
    <span class="k">else</span> <span class="n">ordY</span><span class="o">.</span><span class="n">cmp</span><span class="o">(</span><span class="n">me</span><span class="o">.</span><span class="n">_2</span> <span class="o">,</span> <span class="n">you</span><span class="o">.</span><span class="n">_2</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[4]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">twoOrd</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="part3-:-type-class-interface-(&#49324;&#50857;)">part3 : type class interface (&#49324;&#50857;)<a class="anchor-link" href="#part3-:-type-class-interface-(&#49324;&#50857;)">&#182;</a></h3><hr/>

<p>type class Ord[X] 의 interface 에는 두개의 입구가 있습니다.</p>
<ol>
<li>type X 인 데이터 parameter 들을 받는 입구 </li>
<li>Ord[X] 의 instance 를 implicit parameter 로 받는 입구 </li>
</ol>
<p><strong><em>1번 입구에서 받은 data 들을 , 2번 입구에서 받은 type class instance 의 규칙을 이용해 처리합니다. </em></strong></p>
<p>여기서 implicit parameter 의 입구는, scala 의 컴파일러에 의해 자동으로 코드 내의 implicit val / implicit def 로 구현된 Cls[X] 의 instance 를 찾아 연결합니다.</p>
<p><strong><em> 즉, 1번 입구는 넣어주어야하지만, 2번 입구는 인스턴스들만 만들어 놓았다면 자동으로 채워집니다. </em></strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">def</span> <span class="n">max3</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">b</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">c</span><span class="k">:</span> <span class="kt">A</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">ord</span> <span class="k">:</span> <span class="kt">Ord</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">A</span> <span class="o">=</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">ord</span><span class="o">.&lt;=(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">))</span>  <span class="o">{</span><span class="k">if</span> <span class="o">(</span><span class="n">ord</span><span class="o">.&lt;=(</span><span class="n">b</span><span class="o">,</span><span class="n">c</span><span class="o">))</span> <span class="n">c</span> <span class="k">else</span> <span class="n">b</span><span class="o">}</span>
  <span class="k">else</span>              <span class="o">{</span><span class="k">if</span> <span class="o">(</span><span class="n">ord</span><span class="o">.&lt;=(</span><span class="n">a</span><span class="o">,</span><span class="n">c</span><span class="o">))</span> <span class="n">c</span> <span class="k">else</span> <span class="n">a</span> <span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[5]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">max3</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="result">result<a class="anchor-link" href="#result">&#182;</a></h3><hr/>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="n">max3</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">)</span>  <span class="c1">// ord = intOrd 인스턴스 자동 사용됨</span>
<span class="n">max3</span><span class="o">[</span><span class="kt">Double</span><span class="o">](</span><span class="mf">1.1</span><span class="o">,</span> <span class="mf">2.2</span><span class="o">,</span> <span class="mf">3.3</span><span class="o">)</span> <span class="c1">// ord = doubleOrd 인스턴스 자동 사용됨</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[6]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">res5_0</span>: <span class="ansi-green-fg">Int</span> = <span class="ansi-green-fg">3</span>
<span class="ansi-cyan-fg">res5_1</span>: <span class="ansi-green-fg">Double</span> = <span class="ansi-green-fg">3.3</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/>
<br/>
<br/></p>
<h1 id="4.-&#46160;&#44060;-&#51032;-type-parameter-&#47484;-&#48155;&#45716;-Type-class">4. &#46160;&#44060; &#51032; type parameter &#47484; &#48155;&#45716; Type class<a class="anchor-link" href="#4.-&#46160;&#44060;-&#51032;-type-parameter-&#47484;-&#48155;&#45716;-Type-class">&#182;</a></h1><p><br/>
<br/>
<br/></p>
<p>같은 방식으로, 이번엔 두개의 type parameter 를 받는 type class 를 보겠습니다.</p>
<h3 id="part1-:-type-class-&#51032;-&#48376;&#52404;">part1 : type class &#51032; &#48376;&#52404;<a class="anchor-link" href="#part1-:-type-class-&#51032;-&#48376;&#52404;">&#182;</a></h3><p><hr/>
Iter[I,A] 는 type A 를 저장하고있는 type I 에서 , A를 조회하거나 다음 I 로 넘어가는 기능을 구현합니다.</p>
<p>예를 들자면,</p>
<p>A 가 Int 이면 I 는 이를 저장하는 List[Int]가 될 것이고</p>
<p>A 가 String 이면 I는 이를 저장하는 List[String] 이 될 것입니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">abstract</span> <span class="k">class</span> <span class="nc">Iter</span><span class="o">[</span><span class="kt">I</span>, <span class="kt">A</span><span class="o">]{</span>    
  <span class="k">def</span> <span class="n">getValue</span><span class="o">(</span><span class="n">i</span> <span class="k">:</span> <span class="kt">I</span><span class="o">)</span> <span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>  <span class="c1">//메서드의 디테일은 인스턴스에서 구현합니다.</span>
  <span class="k">def</span> <span class="n">getNext</span><span class="o">(</span><span class="n">i</span> <span class="k">:</span> <span class="kt">I</span><span class="o">)</span> <span class="k">:</span> <span class="kt">I</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[7]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Iter</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part2-:-type-class-&#51032;-instance-(customize)">part2 : type class &#51032; instance (customize)<a class="anchor-link" href="#part2-:-type-class-&#51032;-instance-(customize)">&#182;</a></h3><p><hr/>
Iter[I, A] 의 parameter I, A 에 다양한 type 을 집어넣음으로써 각각의 instance 를 구현합니다.</p>
<p>다시한번..<br/>
<strong>(<code>implicit def</code>는 보통 생성할 instance에 parameter type 을 한번 더 주고 싶을 때 사용합니다. )</strong></p>
<p><br/></p>
<h4 id="1.-Iter[Int,-Int]-&#51064;&#49828;&#53556;&#49828;">1. Iter[Int, Int] &#51064;&#49828;&#53556;&#49828;<a class="anchor-link" href="#1.-Iter[Int,-Int]-&#51064;&#49828;&#53556;&#49828;">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">// I = Int, A = Int </span>

<span class="c1">// Int 라는 저장 구조(I) 안에서 Int 데이터(A)를 조회할 수 있습니다. </span>
<span class="k">implicit</span> <span class="k">val</span> <span class="n">intIter</span> <span class="k">:</span> <span class="kt">Iter</span><span class="o">[</span><span class="kt">Int</span>, <span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Iter</span><span class="o">[</span><span class="kt">Int</span>, <span class="kt">Int</span><span class="o">]{</span>
  <span class="k">def</span> <span class="n">getValue</span><span class="o">(</span><span class="n">i</span> <span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">)</span> <span class="nc">Some</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="k">else</span> <span class="nc">None</span>  
  <span class="k">def</span> <span class="n">getNext</span><span class="o">(</span><span class="n">i</span> <span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="k">if</span><span class="o">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">)</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[8]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">intIter</span>: <span class="ansi-green-fg">Iter</span>[<span class="ansi-green-fg">Int</span>, <span class="ansi-green-fg">Int</span>] = $sess.cmd7Wrapper$Helper$$anon$1@5a79ff31</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h4 id="2.-Iter[-List[X],--X-]-&#51064;&#49828;&#53556;&#49828;">2. Iter[ List[X],  X ] &#51064;&#49828;&#53556;&#49828;<a class="anchor-link" href="#2.-Iter[-List[X],--X-]-&#51064;&#49828;&#53556;&#49828;">&#182;</a></h4><p>이 인스턴스의 독특한 점은, 인스턴스의 완성을 interface 로  떠넘겼다는 것입니다.</p>
<p>X는 결국 이 인스턴스가 사용되는 interface 에서 결정됩니다.</p>
<p>즉 interface에서 X를 Int 로 주면 Iter[List[Int], Int] 가 되고</p>
<p>다른 값으로 주면 달라집니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">// I = List[X], A = X </span>

<span class="c1">//List 라는 저장구조 (I) 안에서 X 타입의 데이터(A) 를 조회할 수 있습니다.  </span>
<span class="k">implicit</span> <span class="k">def</span> <span class="n">listIter</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span> <span class="k">:</span> <span class="kt">Iter</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">X</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Iter</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">X</span><span class="o">]{</span>
  <span class="k">def</span> <span class="n">getValue</span><span class="o">(</span><span class="n">i</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">])</span> <span class="k">=</span> <span class="n">i</span><span class="o">.</span><span class="n">headOption</span>
  <span class="k">def</span> <span class="n">getNext</span><span class="o">(</span><span class="n">i</span>  <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">])</span> <span class="k">=</span> <span class="n">i</span><span class="o">.</span><span class="n">tail</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[9]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">listIter</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part3-:-type-class-interface-(&#49324;&#50857;)">part3 : type class interface (&#49324;&#50857;)<a class="anchor-link" href="#part3-:-type-class-interface-(&#49324;&#50857;)">&#182;</a></h3><hr/>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">// listIter 의 X를 인스턴스 파라메터에서 Int로 고정해놓았습니다.</span>
<span class="k">def</span> <span class="n">sumElements</span><span class="o">[</span><span class="kt">I</span><span class="o">](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">I</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iter</span><span class="o">[</span><span class="kt">I</span>, <span class="kt">Int</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="n">proxy</span><span class="o">.</span><span class="n">getValue</span><span class="o">(</span><span class="n">xs</span><span class="o">)</span> <span class="k">match</span><span class="o">{</span>
  <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="mi">0</span>
  <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">n</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">n</span> <span class="o">+</span> <span class="n">sumElements</span><span class="o">(</span><span class="n">proxy</span><span class="o">.</span><span class="n">getNext</span><span class="o">(</span><span class="n">xs</span><span class="o">))</span>
<span class="o">}</span>


<span class="c1">// listIter 의 X는 xs(I) 의 타입에 따라 결정됩니다. I 가 List[Int] 이면, A 도 Int 가 됩니다. </span>
<span class="k">def</span> <span class="n">printElements</span><span class="o">[</span><span class="kt">I</span><span class="o">](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">I</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iter</span><span class="o">[</span><span class="kt">I</span>, <span class="kt">A</span><span class="o">])</span> <span class="k">:</span><span class="kt">Unit</span> <span class="o">=</span> <span class="n">proxy</span><span class="o">.</span><span class="n">getValue</span><span class="o">(</span><span class="n">xs</span><span class="o">)</span> <span class="k">match</span><span class="o">{</span>
  <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span>
  <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">n</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="o">{</span><span class="n">println</span><span class="o">(</span><span class="n">n</span><span class="o">)</span> <span class="o">;</span> <span class="n">printElements</span><span class="o">(</span><span class="n">proxy</span><span class="o">.</span><span class="n">getNext</span><span class="o">(</span><span class="n">xs</span><span class="o">))}</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[10]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">sumElements</span>
defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">printElements</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="result">result<a class="anchor-link" href="#result">&#182;</a></h3><hr/>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="n">printElements</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]](</span><span class="nc">List</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">))</span>
<span class="n">printElements</span><span class="o">[</span><span class="kt">Int</span><span class="o">](</span><span class="mi">10</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>3
4
5
6
10
9
8
7
6
5
4
3
2
1
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/>
<br/>
<br/></p>
<h1 id="5.-&#51328;-&#45908;-&#48373;&#51105;&#54620;-&#47928;&#51228;&#46308;">5. &#51328; &#45908; &#48373;&#51105;&#54620; &#47928;&#51228;&#46308;<a class="anchor-link" href="#5.-&#51328;-&#45908;-&#48373;&#51105;&#54620;-&#47928;&#51228;&#46308;">&#182;</a></h1><p><br/>
<br/>
<br/></p>
<h3 id="&#51116;&#47308;">&#51116;&#47308;<a class="anchor-link" href="#&#51116;&#47308;">&#182;</a></h3><hr/>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">//재료</span>
<span class="k">sealed</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="nc">case</span> <span class="k">class</span> <span class="nc">Empty</span><span class="o">[</span><span class="kt">A</span><span class="o">]()</span> <span class="k">extends</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Node</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">value</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">left</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span> <span class="n">right</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">extends</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[12]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">MyTree</span>
defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Empty</span>
defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Node</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part1-:-type-class-&#48376;&#52404;">part1 : type class &#48376;&#52404;<a class="anchor-link" href="#part1-:-type-class-&#48376;&#52404;">&#182;</a></h3><p><hr/>
순환적이지 않은 type R 의 무언가를 순환적으로 만들어준다.</p>
<p>iter()는 순환적이지 않은 type R 의 무언가를 순환적인 I 로 바꾸고, I는 A들을 포함한다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">abstract</span> <span class="k">class</span> <span class="nc">Iterable</span><span class="o">[</span><span class="kt">R</span>, <span class="kt">I</span> ,<span class="kt">A</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">iter</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">R</span><span class="o">)</span> <span class="k">:</span> <span class="kt">I</span>
  <span class="k">def</span> <span class="n">iterProxy</span> <span class="k">:</span> <span class="kt">Iter</span><span class="o">[</span><span class="kt">I</span>,<span class="kt">A</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[13]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Iterable</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part2-:-type-class-&#51032;-instance-(customize)">part2 : type class &#51032; instance (customize)<a class="anchor-link" href="#part2-:-type-class-&#51032;-instance-(customize)">&#182;</a></h3><hr>
<p><br/></p>
<h4 id="Iterable[-MyTree[X]-,-List[X],--X-]-&#51064;&#49828;&#53556;&#49828;------------(&lt;--X-&#50976;&#46041;&#51201;-)">Iterable[ MyTree[X] , List[X],  X ] &#51064;&#49828;&#53556;&#49828;            (&lt;- X &#50976;&#46041;&#51201; )<a class="anchor-link" href="#Iterable[-MyTree[X]-,-List[X],--X-]-&#51064;&#49828;&#53556;&#49828;------------(&lt;--X-&#50976;&#46041;&#51201;-)">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">implicit</span> <span class="k">def</span> <span class="n">treeIterable</span><span class="o">[</span><span class="kt">X</span><span class="o">](</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iter</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">X</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Iterable</span><span class="o">[</span><span class="kt">MyTree</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">X</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Iterable</span><span class="o">[</span><span class="kt">MyTree</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">X</span><span class="o">]{</span>
  <span class="k">def</span> <span class="n">iter</span><span class="o">(</span><span class="n">a</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">X</span><span class="o">])</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span> <span class="k">=</span> <span class="n">a</span> <span class="k">match</span><span class="o">{</span>
    <span class="k">case</span> <span class="nc">Empty</span><span class="o">()</span> <span class="k">=&gt;</span>  <span class="nc">Nil</span>
    <span class="k">case</span> <span class="nc">Node</span><span class="o">(</span><span class="n">v</span><span class="o">,</span> <span class="n">left</span><span class="o">,</span> <span class="n">right</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">v</span> <span class="o">::</span> <span class="o">(</span><span class="n">iter</span><span class="o">(</span><span class="n">left</span><span class="o">)</span> <span class="o">++</span> <span class="n">iter</span><span class="o">(</span><span class="n">right</span><span class="o">))</span>
  <span class="o">}</span>
  <span class="k">def</span> <span class="n">iterProxy</span> <span class="k">:</span> <span class="kt">Iter</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">X</span><span class="o">]</span> <span class="k">=</span>  <span class="n">proxy</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[14]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">treeIterable</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">part3 : type class &#51032; interface (&#49324;&#50857;)<a class="anchor-link" href="#part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">def</span> <span class="n">sumElements2</span><span class="o">[</span><span class="kt">R</span>, <span class="kt">I</span><span class="o">](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">R</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iterable</span><span class="o">[</span><span class="kt">R</span>, <span class="kt">I</span> ,<span class="kt">Int</span><span class="o">])</span> <span class="k">=</span> <span class="n">sumElements</span><span class="o">(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iter</span><span class="o">(</span><span class="n">xs</span><span class="o">))(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iterProxy</span><span class="o">)</span>

<span class="k">def</span> <span class="n">printElements2</span><span class="o">[</span><span class="kt">R</span>, <span class="kt">I</span><span class="o">](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">R</span><span class="o">)(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iterable</span><span class="o">[</span><span class="kt">R</span>, <span class="kt">I</span>, <span class="kt">Int</span><span class="o">])</span> <span class="k">=</span> <span class="n">printElements</span><span class="o">(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iter</span><span class="o">(</span><span class="n">xs</span><span class="o">))(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iterProxy</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[15]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">sumElements2</span>
defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">printElements2</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="result">result<a class="anchor-link" href="#result">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">val</span> <span class="n">tree</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Node</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="nc">Node</span><span class="o">(</span><span class="mi">9</span><span class="o">,</span> <span class="nc">Empty</span><span class="o">(),</span> <span class="nc">Empty</span><span class="o">()),</span> <span class="nc">Node</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="nc">Empty</span><span class="o">(),</span> <span class="nc">Empty</span><span class="o">()))</span>

<span class="n">sumElements2</span><span class="o">[</span><span class="kt">MyTree</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span>, <span class="kt">List</span><span class="o">[</span><span class="kt">Int</span><span class="o">]](</span><span class="n">tree</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[16]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">tree</span>: <span class="ansi-green-fg">MyTree</span>[<span class="ansi-green-fg">Int</span>] = Node(10,Node(9,Empty(),Empty()),Node(8,Empty(),Empty()))
<span class="ansi-cyan-fg">res15_1</span>: <span class="ansi-green-fg">Int</span> = <span class="ansi-green-fg">27</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/>
<br/>
<br/></p>
<h1 id="6.-Higher-kind-Type-classes">6. Higher-kind Type classes<a class="anchor-link" href="#6.-Higher-kind-Type-classes">&#182;</a></h1><p><br/>
<br/>
<br/>
Higher-kind 는 type 들을 다시 상위의 하나의 개념으로 묶는, 상위 카테고리라고 할 수 있고, 변역은 "상류" 로 한다.</p>
<p>아래 링크를 참고하면 좋다.</p>
<blockquote><p>twitter 의 scalaschool : scala의 상류 타입</p>
<p><a href="https://twitter.github.io/scala_school/ko/advanced-types.html#higher">https://twitter.github.io/scala_school/ko/advanced-types.html#higher</a></p>
</blockquote>
<h3 id="&#51116;&#47308;">&#51116;&#47308;<a class="anchor-link" href="#&#51116;&#47308;">&#182;</a></h3><hr/>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">import</span> <span class="nn">scala.language.higherKinds</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[23]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">scala.language.higherKinds</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>higher kind 를 사용하려면 scala 에서 위처럼 higerKinds 패키지를 import 해줘야한다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="part1-:-type-class-&#48376;&#52404;">part1 : type class &#48376;&#52404;<a class="anchor-link" href="#part1-:-type-class-&#48376;&#52404;">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">abstract</span> <span class="k">class</span> <span class="nc">Iter2</span><span class="o">[</span><span class="kt">I</span><span class="o">[</span><span class="k">_</span><span class="o">]]{</span>
    <span class="k">def</span> <span class="n">getValue</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span> <span class="k">:</span> <span class="kt">I</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
    <span class="k">def</span> <span class="n">getNext</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span> <span class="k">:</span> <span class="kt">I</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">I</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[18]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Iter2</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="part2-:-type-class-&#51032;-instance-(customize)">part2 : type class &#51032; instance (customize)<a class="anchor-link" href="#part2-:-type-class-&#51032;-instance-(customize)">&#182;</a></h3><hr>
<p><code>Iter2[I[_]]</code> 를 일종의 익명함수 처럼 생각하고 , 빈칸안에 들어올 인자타입은 나중에 받는 것으로 보류하고 나머지를 구현한다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">implicit</span> <span class="k">val</span> <span class="n">listIter2</span> <span class="k">:</span> <span class="kt">Iter2</span><span class="o">[</span><span class="kt">List</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Iter2</span><span class="o">[</span><span class="kt">List</span><span class="o">]{</span>
    <span class="k">def</span> <span class="n">getValue</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">=</span> <span class="n">a</span><span class="o">.</span><span class="n">headOption</span>
    <span class="k">def</span> <span class="n">getNext</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">=</span> <span class="n">a</span><span class="o">.</span><span class="n">tail</span> 
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[19]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">listIter2</span>: <span class="ansi-green-fg">Iter2</span>[<span class="ansi-green-fg">List</span>] = $sess.cmd18Wrapper$Helper$$anon$1@1188d429</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">part3 : type class &#51032; interface (&#49324;&#50857;)<a class="anchor-link" href="#part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">// Int 를 담는 higerkind I 에 대해서만 동작한다.</span>
<span class="k">def</span> <span class="n">sumElements3</span><span class="o">[</span><span class="kt">I</span><span class="o">[</span><span class="k">_</span><span class="o">]](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">I</span><span class="o">[</span><span class="kt">Int</span><span class="o">])(</span><span class="k">implicit</span> <span class="n">itr2</span> <span class="k">:</span> <span class="kt">Iter2</span><span class="o">[</span><span class="kt">I</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">itr2</span><span class="o">.</span><span class="n">getValue</span><span class="o">(</span><span class="n">xs</span><span class="o">)</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="mi">0</span>
        <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">n</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">n</span> <span class="o">+</span> <span class="n">sumElements3</span><span class="o">(</span><span class="n">itr2</span><span class="o">.</span><span class="n">getNext</span><span class="o">(</span><span class="n">xs</span><span class="o">))</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// higerkind I 에 담긴 type X에 구애를 받지 않는다. </span>
<span class="k">def</span> <span class="n">printElements3</span><span class="o">[</span><span class="kt">I</span><span class="o">[</span><span class="k">_</span><span class="o">]</span>,<span class="kt">X</span><span class="o">](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">I</span><span class="o">[</span><span class="kt">X</span><span class="o">])(</span><span class="k">implicit</span> <span class="n">itr2</span> <span class="k">:</span> <span class="kt">Iter2</span><span class="o">[</span><span class="kt">I</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">itr2</span><span class="o">.</span><span class="n">getValue</span><span class="o">(</span><span class="n">xs</span><span class="o">)</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> 
        <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">n</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="o">{</span><span class="n">println</span><span class="o">(</span><span class="n">n</span><span class="o">)</span> <span class="o">;</span> <span class="n">printElements3</span><span class="o">(</span><span class="n">itr2</span><span class="o">.</span><span class="n">getNext</span><span class="o">(</span><span class="n">xs</span><span class="o">))}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[20]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">sumElements3</span>
defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">printElements3</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="result">result<a class="anchor-link" href="#result">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">val</span> <span class="n">lst</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">10</span> <span class="o">,</span><span class="mi">8</span><span class="o">,</span> <span class="mi">9</span><span class="o">)</span>

<span class="n">sumElements3</span><span class="o">(</span><span class="n">xs</span> <span class="k">=</span> <span class="n">lst</span><span class="o">)</span> 

<span class="c1">// 과정1.    lst 가 들어가면서 I = List 타입인자 전달 ; </span>
<span class="c1">// 과정2.    itr2 : Iter2[List] = listIter2   자동으로 채워짐 (implicit 끼리의 연동)</span>

<span class="n">printElements3</span><span class="o">(</span><span class="n">xs</span> <span class="k">=</span> <span class="n">lst</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>4
5
10
8
9
</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">Out[22]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">lst</span>: <span class="ansi-green-fg">List</span>[<span class="ansi-green-fg">Int</span>] = <span class="ansi-yellow-fg">List</span>(<span class="ansi-green-fg">4</span>, <span class="ansi-green-fg">5</span>, <span class="ansi-green-fg">10</span>, <span class="ansi-green-fg">8</span>, <span class="ansi-green-fg">9</span>)
<span class="ansi-cyan-fg">res21_1</span>: <span class="ansi-green-fg">Int</span> = <span class="ansi-green-fg">36</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/>
<br/>
<br/></p>
<h1 id="7.-Higher-kind-Type-classes-+-&#51328;-&#45908;-&#50612;&#47140;&#50868;-&#47928;&#51228;&#46308;">7. Higher-kind Type classes + &#51328; &#45908; &#50612;&#47140;&#50868; &#47928;&#51228;&#46308;<a class="anchor-link" href="#7.-Higher-kind-Type-classes-+-&#51328;-&#45908;-&#50612;&#47140;&#50868;-&#47928;&#51228;&#46308;">&#182;</a></h1><p><br/>
<br/>
<br/>
순환가능하지 않은 타입 R 을 순환 가능한 타입 I 으로 바꿔주는 동작과 (<code>def iter : I</code>),</p>
<p>그 순환가능한 타입 I에 대한 순환동작(<code>type class Iter2[I]</code>) 을 접근할 수 있게 해주는 동작(<code>def iterProxy : Iter2[I]</code>)</p>
<p>으로 구성된 새로운 <code>type class Iterable2[R[_], I[_]]</code> 를 만들어보자.</p>
<h3 id="&#51116;&#47308;">&#51116;&#47308;<a class="anchor-link" href="#&#51116;&#47308;">&#182;</a></h3><hr/>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">import</span> <span class="nn">scala.language.higherKinds</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[23]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">scala.language.higherKinds</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>아래는 예제에 사용될 MyTree 라는 데이터타입이다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">//재료</span>
<span class="k">sealed</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="nc">case</span> <span class="k">class</span> <span class="nc">Empty</span><span class="o">[</span><span class="kt">A</span><span class="o">]()</span> <span class="k">extends</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Node</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">value</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">left</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span> <span class="n">right</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">extends</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[17]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">scala.language.higherKinds

</span>
defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">MyTree</span>
defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Empty</span>
defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Node</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>&lt;/br&gt;</p>
<h3 id="part1-:-type-class-&#48376;&#52404;">part1 : type class &#48376;&#52404;<a class="anchor-link" href="#part1-:-type-class-&#48376;&#52404;">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">abstract</span> <span class="k">class</span> <span class="nc">Iterable2</span><span class="o">[</span><span class="kt">R</span><span class="o">[</span><span class="k">_</span><span class="o">]</span>, <span class="kt">I</span><span class="o">[</span><span class="k">_</span><span class="o">]]{</span>
    <span class="k">def</span> <span class="n">iter</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span> <span class="k">:</span> <span class="kt">R</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">I</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
    <span class="k">def</span> <span class="n">iterProxy</span> <span class="k">:</span> <span class="kt">Iter2</span><span class="o">[</span><span class="kt">I</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[24]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Iterable2</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part2-:-type-class-&#51032;-instance-(customize)">part2 : type class &#51032; instance (customize)<a class="anchor-link" href="#part2-:-type-class-&#51032;-instance-(customize)">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">implicit</span> <span class="k">def</span> <span class="n">treeIterable2</span><span class="o">(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iter2</span><span class="o">[</span><span class="kt">List</span><span class="o">])</span> <span class="k">:</span> <span class="kt">Iterable2</span><span class="o">[</span><span class="kt">MyTree</span>, <span class="kt">List</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Iterable2</span><span class="o">[</span><span class="kt">MyTree</span>, <span class="kt">List</span><span class="o">]{</span>
    <span class="k">def</span> <span class="n">iter</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">a</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="n">a</span> <span class="k">match</span> <span class="o">{</span>
        <span class="k">case</span> <span class="nc">Empty</span><span class="o">()</span> <span class="k">=&gt;</span> <span class="nc">Nil</span> 
        <span class="k">case</span> <span class="nc">Node</span><span class="o">(</span><span class="n">v</span><span class="o">,</span> <span class="n">left</span><span class="o">,</span> <span class="n">right</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">v</span> <span class="o">::</span> <span class="o">(</span><span class="n">iter</span><span class="o">(</span><span class="n">left</span><span class="o">)</span> <span class="o">++</span> <span class="n">iter</span><span class="o">(</span><span class="n">right</span><span class="o">))</span> 
    <span class="o">}</span>
    <span class="k">def</span> <span class="n">iterProxy</span> <span class="k">:</span> <span class="kt">Iter2</span><span class="o">[</span><span class="kt">List</span><span class="o">]</span>  <span class="k">=</span>  <span class="n">proxy</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[26]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">treeIterable2</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>TIP ::  위의 코드는 아래와같이도 사용할 수 있다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="cm">/**</span>
<span class="cm">implicit def treeIterable2: Iterable2[MyTree, List] = new Iterable2[MyTree, List]{</span>
<span class="cm">    def iter[A](a : MyTree[A]) : List[A] = a match {</span>
<span class="cm">        case Empty() =&gt; Nil </span>
<span class="cm">        case Node(v, left, right) =&gt; v :: (iter(left) ++ iter(right)) </span>
<span class="cm">    }</span>
<span class="cm">    def iterProxy : Iter2[List]  =  implicitly[Iter2[List]] // type 주어진 채로 연동하기  </span>
<span class="cm">}</span>
<span class="cm">**/</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">part3 : type class &#51032; interface (&#49324;&#50857;)<a class="anchor-link" href="#part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">def</span> <span class="n">sumElements4</span><span class="o">[</span><span class="kt">R</span><span class="o">[</span><span class="k">_</span><span class="o">]</span>,<span class="kt">I</span><span class="o">[</span><span class="k">_</span><span class="o">]](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">R</span><span class="o">[</span><span class="kt">Int</span><span class="o">])(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iterable2</span><span class="o">[</span><span class="kt">R</span>, <span class="kt">I</span><span class="o">])</span> <span class="k">=</span> <span class="n">sumElements3</span><span class="o">(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iter</span><span class="o">(</span><span class="n">xs</span><span class="o">))(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iterProxy</span><span class="o">)</span>

<span class="c1">//1. xs 에 인자가 전달된다. R과 _가 결정된다.</span>
<span class="c1">//2. 결정된 R과 _ 를 확인한 implicit 가 proxy 를 결정한다. I가 결정된다. </span>


<span class="k">def</span> <span class="n">printElements4</span><span class="o">[</span><span class="kt">R</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">I</span><span class="o">[</span><span class="kt">X</span><span class="o">]</span>, <span class="kt">X</span><span class="o">](</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">R</span><span class="o">[</span><span class="kt">X</span><span class="o">])(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Iterable2</span><span class="o">[</span><span class="kt">R</span>,<span class="kt">I</span><span class="o">])</span> <span class="k">=</span> <span class="n">printElements3</span><span class="o">(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iter</span><span class="o">(</span><span class="n">xs</span><span class="o">))(</span><span class="n">proxy</span><span class="o">.</span><span class="n">iterProxy</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[27]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">sumElements4</span>
defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">printElements4</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="result">result<a class="anchor-link" href="#result">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">val</span> <span class="n">t2</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Node</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="nc">Node</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="nc">Node</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="nc">Empty</span><span class="o">(),</span> <span class="nc">Empty</span><span class="o">()),</span> <span class="nc">Empty</span><span class="o">()),</span> <span class="nc">Empty</span><span class="o">())</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[28]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">t2</span>: <span class="ansi-green-fg">MyTree</span>[<span class="ansi-green-fg">Int</span>] = Node(3,Node(4,Node(5,Empty(),Empty()),Empty()),Empty())</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="n">sumElements4</span><span class="o">(</span><span class="n">t2</span><span class="o">)</span>
<span class="n">printElements4</span><span class="o">(</span><span class="n">t2</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>3
4
5
</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">Out[29]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">res28_0</span>: <span class="ansi-green-fg">Int</span> = <span class="ansi-green-fg">12</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/>
<br/>
<br/></p>
<h1 id="8.-Higher-kind-Type-classes-+-Functor-Specification">8. Higher-kind Type classes + Functor Specification<a class="anchor-link" href="#8.-Higher-kind-Type-classes-+-Functor-Specification">&#182;</a></h1><p><br/>
<br/>
<br/></p>
<h3 id="&#51116;&#47308;">&#51116;&#47308;<a class="anchor-link" href="#&#51116;&#47308;">&#182;</a></h3><hr/>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">import</span> <span class="nn">scala.language.higherKinds</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[30]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">scala.language.higherKinds</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="c1">//재료</span>
<span class="k">sealed</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="nc">case</span> <span class="k">class</span> <span class="nc">Empty</span><span class="o">[</span><span class="kt">A</span><span class="o">]()</span> <span class="k">extends</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Node</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">value</span> <span class="k">:</span> <span class="kt">A</span><span class="o">,</span> <span class="n">left</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">],</span> <span class="n">right</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">extends</span> <span class="nc">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[33]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">MyTree</span>
defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Empty</span>
defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Node</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>&lt;/br&gt;</p>
<h3 id="part1-:-type-class-&#48376;&#52404;">part1 : type class &#48376;&#52404;<a class="anchor-link" href="#part1-:-type-class-&#48376;&#52404;">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">trait</span> <span class="nc">Functor</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]]</span> <span class="o">{</span>
    <span class="k">def</span> <span class="n">map</span><span class="o">[</span><span class="kt">A</span>, <span class="kt">B</span><span class="o">](</span><span class="n">f</span> <span class="k">:</span> <span class="kt">A</span><span class="o">=&gt;</span><span class="n">B</span><span class="o">)(</span><span class="n">x</span> <span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[31]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">trait</span> <span class="ansi-cyan-fg">Functor</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part2-:-type-class-&#51032;-instance-(customize)">part2 : type class &#51032; instance (customize)<a class="anchor-link" href="#part2-:-type-class-&#51032;-instance-(customize)">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">implicit</span> <span class="k">val</span> <span class="nc">ListFunctor</span> <span class="k">:</span> <span class="kt">Functor</span><span class="o">[</span><span class="kt">List</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Functor</span><span class="o">[</span><span class="kt">List</span><span class="o">]{</span>
    <span class="k">def</span> <span class="n">map</span><span class="o">[</span><span class="kt">A</span>,<span class="kt">B</span><span class="o">](</span><span class="n">f</span> <span class="k">:</span> <span class="kt">A</span><span class="o">=&gt;</span><span class="n">B</span><span class="o">)(</span><span class="n">x</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span> <span class="k">=</span> <span class="n">x</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">f</span><span class="o">)</span>
<span class="o">}</span>

<span class="k">implicit</span> <span class="k">val</span> <span class="nc">TreeFunctor</span> <span class="k">:</span> <span class="kt">Functor</span><span class="o">[</span><span class="kt">MyTree</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Functor</span><span class="o">[</span><span class="kt">MyTree</span><span class="o">]{</span>
    <span class="k">def</span> <span class="n">map</span><span class="o">[</span><span class="kt">A</span>,<span class="kt">B</span><span class="o">](</span><span class="n">f</span> <span class="k">:</span> <span class="kt">A</span><span class="o">=&gt;</span><span class="n">B</span><span class="o">)(</span><span class="n">x</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">A</span><span class="o">])</span> <span class="k">:</span> <span class="kt">MyTree</span><span class="o">[</span><span class="kt">B</span><span class="o">]</span> <span class="k">=</span> <span class="n">x</span> <span class="k">match</span><span class="o">{</span>
        <span class="k">case</span> <span class="nc">Empty</span><span class="o">()</span> <span class="k">=&gt;</span> <span class="nc">Empty</span><span class="o">()</span>
        <span class="k">case</span> <span class="nc">Node</span><span class="o">(</span><span class="n">v</span><span class="o">,</span> <span class="n">left</span><span class="o">,</span> <span class="n">right</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Node</span><span class="o">(</span><span class="n">f</span><span class="o">(</span><span class="n">v</span><span class="o">),</span> <span class="n">map</span><span class="o">(</span><span class="n">f</span><span class="o">)(</span><span class="n">left</span><span class="o">),</span> <span class="n">map</span><span class="o">(</span><span class="n">f</span><span class="o">)(</span><span class="n">right</span><span class="o">))</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[34]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">ListFunctor</span>: <span class="ansi-green-fg">Functor</span>[<span class="ansi-green-fg">List</span>] = $sess.cmd33Wrapper$Helper$$anon$1@3bbdd7c8
<span class="ansi-cyan-fg">TreeFunctor</span>: <span class="ansi-green-fg">Functor</span>[<span class="ansi-green-fg">MyTree</span>] = $sess.cmd33Wrapper$Helper$$anon$2@6f83087e</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><br/></p>
<h3 id="part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">part3 : type class &#51032; interface (&#49324;&#50857;)<a class="anchor-link" href="#part3-:-type-class-&#51032;-interface-(&#49324;&#50857;)">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span><span class="k">def</span> <span class="n">compose</span><span class="o">[</span><span class="kt">F</span><span class="o">[</span><span class="k">_</span><span class="o">]</span>,<span class="kt">X</span>,<span class="kt">Y</span>,<span class="kt">Z</span><span class="o">](</span><span class="n">g</span> <span class="k">:</span> <span class="kt">Y</span><span class="o">=&gt;</span><span class="n">Z</span><span class="o">)(</span><span class="n">f</span> <span class="k">:</span> <span class="kt">X</span><span class="o">=&gt;</span><span class="n">Y</span><span class="o">)(</span><span class="n">xs</span> <span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">X</span><span class="o">])(</span><span class="k">implicit</span> <span class="n">proxy</span> <span class="k">:</span> <span class="kt">Functor</span><span class="o">[</span><span class="kt">F</span><span class="o">])</span> <span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">Z</span><span class="o">]</span> <span class="o">={</span>
    <span class="n">proxy</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">g</span><span class="o">)(</span><span class="n">proxy</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="n">f</span><span class="o">)(</span><span class="n">xs</span><span class="o">))</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[35]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">compose</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="result">result<a class="anchor-link" href="#result">&#182;</a></h3><hr>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[28]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">t2</span>: <span class="ansi-green-fg">MyTree</span>[<span class="ansi-green-fg">Int</span>] = Node(3,Node(4,Node(5,Empty(),Empty()),Empty()),Empty())</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-scala"><pre><span></span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>3
4
5
</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">Out[29]:</div>


<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-cyan-fg">res28_0</span>: <span class="ansi-green-fg">Int</span> = <span class="ansi-green-fg">12</span></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">

</div>
</div>
</div>
  </div>

</div>

<div class="two wide column">

</div>


        <div class="two wide column"></div>

        <div class="twelve wide column">
          <hr />
          <div id="disqus_thread" class = "ui segment"></div>
          <script>

          /**
          *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
          *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
          /*
          var disqus_config = function () {
          this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
          this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
          };
          */
          (function() { // DON'T EDIT BELOW THIS LINE
          var d = document, s = d.createElement('script');
          s.src = 'https://shinjayne.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        </div>

        <div class="two wide column"></div>



        <div class="two wide column">
        </div>
        <div class="twelve wide column">
          <hr />
          <p>
            powered by <a>Jupyter NoteBook</a> / <a>Jekyll</a> / <a>BootStrap</a> / <a>Semantic-UI</a> / <a>Github Pages</a>
          </p>
          <p>
            source code available on <a href="https://github.com/shinjayne/shinjayne.github.io">here</a>
          </p>

        </div>
        <div class="two wide column">
        </div>



      </div>






    </div>
  </body>
</html>
